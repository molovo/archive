var Hogan={};!function(e,t){function n(e){return String(null===e||void 0===e?"":e)}function r(e){return e=n(e),c.test(e)?e.replace(o,"&amp;").replace(i,"&lt;").replace(s,"&gt;").replace(a,"&#39;").replace(u,"&quot;"):e}e.Template=function(e,n,r,o){this.r=e||this.r,this.c=r,this.options=o,this.text=n||"",this.buf=t?[]:""},e.Template.prototype={r:function(e,t,n){return""},v:r,t:n,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,r){var o=n[e];return o?(this.c&&"string"==typeof o&&(o=this.c.compile(o,this.options)),o.ri(t,n,r)):""},rs:function(e,t,n){var r=e[e.length-1];if(!l(r))return void n(e,t,this);for(var o=0;o<r.length;o++)e.push(r[o]),n(e,t,this),e.pop()},s:function(e,t,n,r,o,i,s){var a;return l(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ls(e,t,n,r,o,i,s)),a=""===e||!!e,!r&&a&&t&&t.push("object"==typeof e?e:t[t.length-1]),a)},d:function(e,t,n,r){var o=e.split("."),i=this.f(o[0],t,n,r),s=null;if("."===e&&l(t[t.length-2]))return t[t.length-1];for(var a=1;a<o.length;a++)i&&"object"==typeof i&&o[a]in i?(s=i,i=i[o[a]]):i="";return r&&!i?!1:(r||"function"!=typeof i||(t.push(s),i=this.lv(i,t,n),t.pop()),i)},f:function(e,t,n,r){for(var o=!1,i=null,s=!1,a=t.length-1;a>=0;a--)if(i=t[a],i&&"object"==typeof i&&e in i){o=i[e],s=!0;break}return s?(r||"function"!=typeof o||(o=this.lv(o,t,n)),o):r?!1:""},ho:function(e,t,n,r,o){var i=this.c,s=this.options;s.delimiters=o;var r=e.call(t,r);return r=null==r?String(r):r.toString(),this.b(i.compile(r,s).render(t,n)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,n,r,o,i,s){var a=t[t.length-1],u=null;if(!r&&this.c&&e.length>0)return this.ho(e,a,n,this.text.substring(o,i),s);if(u=e.call(a),"function"==typeof u){if(r)return!0;if(this.c)return this.ho(u,a,n,this.text.substring(o,i),s)}return u},lv:function(e,t,r){var o=t[t.length-1],i=e.call(o);return"function"==typeof i&&(i=n(i.call(o)),this.c&&~i.indexOf("{{"))?this.c.compile(i,this.options).render(o,r):n(i)}};var o=/&/g,i=/</g,s=/>/g,a=/\'/g,u=/\"/g,c=/[&<>\"\']/,l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function r(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,o=e.length;o>r;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}function o(e,t,n,r){for(var a=[],u=null,c=null;e.length>0;)if(c=e.shift(),"#"==c.tag||"^"==c.tag||i(c,r))n.push(c),c.nodes=o(e,c.tag,n,r),a.push(c);else{if("/"==c.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+c.n);if(u=n.pop(),c.n!=u.n&&!s(c.n,u.n,r))throw new Error("Nesting error: "+u.n+" vs. "+c.n);return u.end=c.i,a}a.push(c)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return a}function i(e,t){for(var n=0,r=t.length;r>n;n++)if(t[n].o==e.n)return e.tag="#",!0}function s(e,t,n){for(var r=0,o=n.length;o>r;r++)if(n[r].c==e&&n[r].o==t)return!0}function a(e){return e.replace(E,"\\\\").replace(v,'\\"').replace(y,"\\n").replace(b,"\\r")}function u(e){return~e.indexOf(".")?"d":"f"}function c(e){for(var t="",n=0,r=e.length;r>n;n++){var o=e[n].tag;"#"==o?t+=l(e[n].nodes,e[n].n,u(e[n].n),e[n].i,e[n].end,e[n].otag+" "+e[n].ctag):"^"==o?t+=d(e[n].nodes,e[n].n,u(e[n].n)):"<"==o||">"==o?t+=h(e[n]):"{"==o||"&"==o?t+=p(e[n].n,u(e[n].n)):"\n"==o?t+=g('"\\n"'+(e.length-1==n?"":" + i")):"_v"==o?t+=f(e[n].n,u(e[n].n)):void 0===o&&(t+=g('"'+a(e[n])+'"'))}return t}function l(e,t,n,r,o,i){return"if(_.s(_."+n+'("'+a(t)+'",c,p,1),c,p,0,'+r+","+o+',"'+i+'")){_.rs(c,p,function(c,p,_){'+c(e)+"});c.pop();}"}function d(e,t,n){return"if(!_.s(_."+n+'("'+a(t)+'",c,p,1),c,p,1,0,0,"")){'+c(e)+"};"}function h(e){return'_.b(_.rp("'+a(e.n)+'",c,p,"'+(e.indent||"")+'"));'}function p(e,t){return"_.b(_.t(_."+t+'("'+a(e)+'",c,p,0)));'}function f(e,t){return"_.b(_.v(_."+t+'("'+a(e)+'",c,p,0)));'}function g(e){return"_.b("+e+");"}var m=/\S/,v=/\"/g,y=/\n/g,b=/\r/g,E=/\\/g,S={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};e.scan=function(e,o){function i(){v.length>0&&(y.push(new String(v)),v="")}function s(){for(var e=!0,t=w;t<y.length;t++)if(e=y[t].tag&&S[y[t].tag]<S._v||!y[t].tag&&null===y[t].match(m),!e)return!1;return e}function a(e,t){if(i(),e&&s())for(var n,r=w;r<y.length;r++)y[r].tag||((n=y[r+1])&&">"==n.tag&&(n.indent=y[r].toString()),y.splice(r,1));else t||y.push({tag:"\n"});b=!1,w=y.length}function u(e,t){var r="="+k,o=e.indexOf(r,t),i=n(e.substring(e.indexOf("=",t)+1,o)).split(" ");return T=i[0],k=i[1],o+r.length-1}var c=e.length,l=0,d=1,h=2,p=l,f=null,g=null,v="",y=[],b=!1,E=0,w=0,T="{{",k="}}";for(o&&(o=o.split(" "),T=o[0],k=o[1]),E=0;c>E;E++)p==l?r(T,e,E)?(--E,i(),p=d):"\n"==e.charAt(E)?a(b):v+=e.charAt(E):p==d?(E+=T.length-1,g=S[e.charAt(E+1)],f=g?e.charAt(E+1):"_v","="==f?(E=u(e,E),p=l):(g&&E++,p=h),b=E):r(k,e,E)?(y.push({tag:f,n:n(v),otag:T,ctag:k,i:"/"==f?b-k.length:E+T.length}),v="",E+=k.length-1,p=l,"{"==f&&("}}"==k?E++:t(y[y.length-1]))):v+=e.charAt(E);return a(b,!0),y},e.generate=function(t,n,r){var o='var _=this;_.b(i=i||"");'+c(t)+"return _.fl();";return r.asString?"function(c,p,i){"+o+";}":new e.Template(new Function("c","p","i",o),n,e,r)},e.parse=function(e,t,n){return n=n||{},o(e,"",[],n.sectionTags||[])},e.cache={},e.compile=function(e,t){t=t||{};var n=e+"||"+!!t.asString,r=this.cache[n];return r?r:(r=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[n]=r)}}("undefined"!=typeof exports?exports:Hogan),function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.echo=t(e)}(this,function(e){"use strict";var t,n,r,o,i,s={},a=function(){},u=function(e){return null===e.offsetParent},c=function(e,t){if(u(e))return!1;var n=e.getBoundingClientRect();return n.right>=t.l&&n.bottom>=t.t&&n.left<=t.r&&n.top<=t.b},l=function(){(o||!n)&&(clearTimeout(n),n=setTimeout(function(){s.render(),n=null},r))};return s.init=function(n){n=n||{};var u=n.offset||0,c=n.offsetVertical||u,d=n.offsetHorizontal||u,h=function(e,t){return parseInt(e||t,10)};t={t:h(n.offsetTop,c),b:h(n.offsetBottom,c),l:h(n.offsetLeft,d),r:h(n.offsetRight,d)},r=h(n.throttle,250),o=n.debounce!==!1,i=!!n.unload,a=n.callback||a,s.render(),document.addEventListener?(e.addEventListener("scroll",l,!1),e.addEventListener("load",l,!1)):(e.attachEvent("onscroll",l),e.attachEvent("onload",l))},s.render=function(){for(var n,r,o=document.querySelectorAll("img[data-echo], [data-echo-background]"),u=o.length,l={l:0-t.l,t:0-t.t,b:(e.innerHeight||document.documentElement.clientHeight)+t.b,r:(e.innerWidth||document.documentElement.clientWidth)+t.r},d=0;u>d;d++)r=o[d],c(r,l)?(i&&r.setAttribute("data-echo-placeholder",r.src),null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+r.getAttribute("data-echo-background")+")":r.src=r.getAttribute("data-echo"),i||(r.removeAttribute("data-echo"),r.removeAttribute("data-echo-background")),a(r,"load")):i&&(n=r.getAttribute("data-echo-placeholder"))&&(null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+n+")":r.src=n,r.removeAttribute("data-echo-placeholder"),a(r,"unload"));u||s.detach()},s.detach=function(){document.removeEventListener?e.removeEventListener("scroll",l):e.detachEvent("onscroll",l),clearTimeout(n)},s});var CSRFToken,Click,ComponentUrl,EVENTS,Link,ProgressBar,browserCompatibleDocumentParser,browserIsntBuggy,browserSupportsCustomEvents,browserSupportsPushState,browserSupportsTurbolinks,bypassOnLoadPopstate,cacheCurrentPage,cacheSize,changePage,clone,constrainPageCacheTo,createDocument,crossOriginRedirect,currentState,enableProgressBar,enableTransitionCache,executeScriptTags,extractTitleAndBody,fetch,fetchHistory,fetchReplacement,historyStateIsDefined,initializeTurbolinks,installDocumentReadyPageEventTriggers,installHistoryChangeHandler,installJqueryAjaxSuccessPageUpdateTrigger,loadedAssets,manuallyTriggerHashChangeForFirefox,pageCache,pageChangePrevented,pagesCached,popCookie,processResponse,progressBar,recallScrollPosition,referer,reflectNewUrl,reflectRedirectedUrl,rememberCurrentState,rememberCurrentUrl,rememberReferer,removeNoscriptTags,requestMethodIsSafe,resetScrollPosition,setAutofocusElement,transitionCacheEnabled,transitionCacheFor,triggerEvent,visit,xhr,_ref,__indexOf=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},__hasProp={}.hasOwnProperty,__extends=function(e,t){function n(){this.constructor=e}for(var r in t)__hasProp.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},__slice=[].slice,__bind=function(e,t){return function(){return e.apply(t,arguments)}};pageCache={},cacheSize=10,transitionCacheEnabled=!1,progressBar=null,currentState=null,loadedAssets=null,referer=null,createDocument=null,xhr=null,EVENTS={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},fetch=function(e){var t;return e=new ComponentUrl(e),rememberReferer(),cacheCurrentPage(),null!=progressBar&&progressBar.start(),transitionCacheEnabled&&(t=transitionCacheFor(e.absolute))?(fetchHistory(t),fetchReplacement(e,null,!1)):fetchReplacement(e,resetScrollPosition)},transitionCacheFor=function(e){var t;return t=pageCache[e],t&&!t.transitionCacheDisabled?t:void 0},enableTransitionCache=function(e){return null==e&&(e=!0),transitionCacheEnabled=e},enableProgressBar=function(e){return null==e&&(e=!0),e?null!=progressBar?progressBar:progressBar=new ProgressBar("html"):(null!=progressBar&&progressBar.uninstall(),progressBar=null)},fetchReplacement=function(e,t,n){return null==n&&(n=!0),triggerEvent(EVENTS.FETCH,{url:e.absolute}),null!=xhr&&xhr.abort(),xhr=new XMLHttpRequest,xhr.open("GET",e.withoutHashForIE10compatibility(),!0),xhr.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),xhr.setRequestHeader("X-XHR-Referer",referer),xhr.onload=function(){var n;return triggerEvent(EVENTS.RECEIVE,{url:e.absolute}),(n=processResponse())?(reflectNewUrl(e),reflectRedirectedUrl(),changePage.apply(null,extractTitleAndBody(n)),manuallyTriggerHashChangeForFirefox(),"function"==typeof t&&t(),triggerEvent(EVENTS.LOAD)):document.location.href=crossOriginRedirect()||e.absolute},progressBar&&n&&(xhr.onprogress=function(e){return function(e){var t;return t=e.lengthComputable?e.loaded/e.total*100:progressBar.value+(100-progressBar.value)/10,progressBar.advanceTo(t)}}(this)),xhr.onloadend=function(){return xhr=null},xhr.onerror=function(){return document.location.href=e.absolute},xhr.send()},fetchHistory=function(e){return null!=xhr&&xhr.abort(),changePage(e.title,e.body),recallScrollPosition(e),triggerEvent(EVENTS.RESTORE)},cacheCurrentPage=function(){var e;return e=new ComponentUrl(currentState.url),pageCache[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},constrainPageCacheTo(cacheSize)},pagesCached=function(e){return null==e&&(e=cacheSize),/^[\d]+$/.test(e)?cacheSize=parseInt(e):void 0},constrainPageCacheTo=function(e){var t,n,r,o,i,s;for(r=Object.keys(pageCache),t=r.map(function(e){return pageCache[e].cachedAt}).sort(function(e,t){return t-e}),s=[],o=0,i=r.length;i>o;o++)n=r[o],pageCache[n].cachedAt<=t[e]&&(triggerEvent(EVENTS.EXPIRE,pageCache[n]),s.push(delete pageCache[n]));return s},changePage=function(e,t,n,r){return triggerEvent(EVENTS.BEFORE_UNLOAD),document.title=e,document.documentElement.replaceChild(t,document.body),null!=n&&CSRFToken.update(n),setAutofocusElement(),r&&executeScriptTags(),currentState=window.history.state,null!=progressBar&&progressBar.done(),triggerEvent(EVENTS.CHANGE),triggerEvent(EVENTS.UPDATE)},executeScriptTags=function(){var e,t,n,r,o,i,s,a,u,c,l,d;for(i=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),s=0,u=i.length;u>s;s++)if(o=i[s],""===(l=o.type)||"text/javascript"===l){for(t=document.createElement("script"),d=o.attributes,a=0,c=d.length;c>a;a++)e=d[a],t.setAttribute(e.name,e.value);o.hasAttribute("async")||(t.async=!1),t.appendChild(document.createTextNode(o.innerHTML)),r=o.parentNode,n=o.nextSibling,r.removeChild(o),r.insertBefore(t,n)}},removeNoscriptTags=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),e},setAutofocusElement=function(){var e,t;return e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1],e&&document.activeElement!==e?e.focus():void 0},reflectNewUrl=function(e){return(e=new ComponentUrl(e)).absolute!==referer?window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute):void 0},reflectRedirectedUrl=function(){var e,t;return(e=xhr.getResponseHeader("X-XHR-Redirected-To"))?(e=new ComponentUrl(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(currentState,"",e.href+t)):void 0},crossOriginRedirect=function(){var e;return null!=(e=xhr.getResponseHeader("Location"))&&new ComponentUrl(e).crossOrigin()?e:void 0},rememberReferer=function(){return referer=document.location.href},rememberCurrentUrl=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},rememberCurrentState=function(){return currentState=window.history.state},manuallyTriggerHashChangeForFirefox=function(){var e;return navigator.userAgent.match(/Firefox/)&&!(e=new ComponentUrl).hasNoHash()?(window.history.replaceState(currentState,"",e.withoutHash()),document.location.hash=e.hash):void 0},recallScrollPosition=function(e){return window.scrollTo(e.positionX,e.positionY)},resetScrollPosition=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},clone=function(e){var t,n,r;if(null==e||"object"!=typeof e)return e;t=new e.constructor;for(n in e)r=e[n],t[n]=clone(r);return t},popCookie=function(e){var t,n;return t=(null!=(n=document.cookie.match(new RegExp(e+"=(\\w+)")))?n[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",t},triggerEvent=function(e,t){var n;return"undefined"!=typeof Prototype&&Event.fire(document,e,t,!0),n=document.createEvent("Events"),t&&(n.data=t),n.initEvent(e,!0,!0),document.dispatchEvent(n)},pageChangePrevented=function(e){return!triggerEvent(EVENTS.BEFORE_CHANGE,{url:e})},processResponse=function(){var e,t,n,r,o,i;return t=function(){var e;return 400<=(e=xhr.status)&&600>e},i=function(){var e;return null!=(e=xhr.getResponseHeader("Content-Type"))&&e.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},r=function(e){var t,n,r,o,i;for(o=e.querySelector("head").childNodes,i=[],n=0,r=o.length;r>n;n++)t=o[n],null!=("function"==typeof t.getAttribute?t.getAttribute("data-turbolinks-track"):void 0)&&i.push(t.getAttribute("src")||t.getAttribute("href"));return i},e=function(e){var t;return loadedAssets||(loadedAssets=r(document)),t=r(e),t.length!==loadedAssets.length||o(t,loadedAssets).length!==loadedAssets.length},o=function(e,t){var n,r,o,i,s;for(e.length>t.length&&(i=[t,e],e=i[0],t=i[1]),s=[],r=0,o=e.length;o>r;r++)n=e[r],__indexOf.call(t,n)>=0&&s.push(n);return s},!t()&&i()&&(n=createDocument(xhr.responseText),n&&!e(n))?n:void 0},extractTitleAndBody=function(e){var t;return t=e.querySelector("title"),[null!=t?t.textContent:void 0,removeNoscriptTags(e.querySelector("body")),CSRFToken.get(e).token,"runScripts"]},CSRFToken={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t&&"function"==typeof t.getAttribute?t.getAttribute("content"):void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},browserCompatibleDocumentParser=function(){var e,t,n,r,o,i,s,a,u,c;r=function(e){return(new DOMParser).parseFromString(e,"text/html")},t=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},o=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t},n=function(e){var t,n,r,o,i,s;return r=(null!=(i=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i))?i[0]:void 0)||"<head></head>",t=(null!=(s=e.match(/<body[^>]*>([\s\S.]*)<\/body>/i))?s[0]:void 0)||"<body></body>",o=document.createElement("html"),o.innerHTML=r+t,n=document.createDocumentFragment(),n.appendChild(o),n},e=function(e){var t,r,i;return t=function(e,t){return{passes:t(),fallback:e}},i=t(o,function(t){return function(){var t,n;return 1===(null!=(t=e("<html><body><p>test"))&&null!=(n=t.body)?n.childNodes.length:void 0)}}(this)),r=t(n,function(t){return function(){var t,n;return 2===(null!=(t=e("<html><body><form></form><div></div></body></html>"))&&null!=(n=t.body)?n.childNodes.length:void 0)}}(this)),[i,r]};try{if(window.DOMParser)return s=e(r),r}catch(l){return a=l,s=e(t),t}finally{for(u=0,c=s.length;c>u;u++)if(i=s[u],!i.passes)return i.fallback}},ComponentUrl=function(){function e(t){return this.original=null!=t?t:document.location.href,this.original.constructor===e?this.original:void this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return 0===this.hash.length},e.prototype.crossOrigin=function(){return this.origin!==(new e).origin},e.prototype._parse=function(){var e;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),Link=function(e){function t(e){return this.link=e,this.link.constructor===t?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void t.__super__.constructor.apply(this,arguments))}return __extends(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,n,r,o;for(n=1<=arguments.length?__slice.call(arguments,0):[],r=0,o=n.length;o>r;r++)e=n[r],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new ComponentUrl).withoutHash()},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;for(t=this.originalElement;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},t.prototype._target=function(){return 0!==this.link.target.length},t}(ComponentUrl),Click=function(){function e(e){this.event=e,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(pageChangePrevented(this.link.absolute)||visit(this.link.href),this.event.preventDefault()))}return e.installHandlerLast=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1))},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;for(e=this.event.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return"A"===e.nodeName&&0!==e.href.length?this.link=new Link(e):void 0},e.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),ProgressBar=function(){function e(e){this.elementSelector=e,this._trickle=__bind(this._trickle,this),this.value=0,this.opacity=1,this.content="",this.speed=300,this.install()}var t;return t="turbolinks-progress-bar",e.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(t),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},e.prototype.uninstall=function(){return this.element.classList.remove(t),document.head.removeChild(this.styleElement)},e.prototype.start=function(){return this.advanceTo(5)},e.prototype.advanceTo=function(e){var t;if(e>(t=this.value)&&100>=t){if(this.value=e,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},e.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},e.prototype._reset=function(){return setTimeout(function(e){return function(){return e.opacity=0,e._updateStyle()}}(this),this.speed/2),setTimeout(function(e){return function(){return e.value=0,e.opacity=1,e._withSpeed(0,function(){return e._updateStyle(!0)})}}(this),this.speed)},e.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},e.prototype._stopTrickle=function(){return delete this.trickling},e.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},e.prototype._withSpeed=function(e,t){var n,r;return n=this.speed,this.speed=e,r=t(),this.speed=n,r},e.prototype._updateStyle=function(e){return null==e&&(e=!1),e&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},e.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},e.prototype._createCSSRule=function(){return""+this.elementSelector+"."+t+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},e}(),bypassOnLoadPopstate=function(e){return setTimeout(e,500)},installDocumentReadyPageEventTriggers=function(){return document.addEventListener("DOMContentLoaded",function(){return triggerEvent(EVENTS.CHANGE),triggerEvent(EVENTS.UPDATE)},!0)},installJqueryAjaxSuccessPageUpdateTrigger=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,t,n){return jQuery.trim(t.responseText)?triggerEvent(EVENTS.UPDATE):void 0}):void 0},installHistoryChangeHandler=function(e){var t,n;return(null!=(n=e.state)?n.turbolinks:void 0)?(t=pageCache[new ComponentUrl(e.state.url).absolute])?(cacheCurrentPage(),fetchHistory(t)):visit(e.target.location.href):void 0},initializeTurbolinks=function(){return rememberCurrentUrl(),rememberCurrentState(),createDocument=browserCompatibleDocumentParser(),document.addEventListener("click",Click.installHandlerLast,!0),window.addEventListener("hashchange",function(e){return rememberCurrentUrl(),rememberCurrentState()},!1),bypassOnLoadPopstate(function(){return window.addEventListener("popstate",installHistoryChangeHandler,!1)})},historyStateIsDefined=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),browserSupportsPushState=window.history&&window.history.pushState&&window.history.replaceState&&historyStateIsDefined,browserIsntBuggy=!navigator.userAgent.match(/CriOS\//),requestMethodIsSafe="GET"===(_ref=popCookie("request_method"))||""===_ref,browserSupportsTurbolinks=browserSupportsPushState&&browserIsntBuggy&&requestMethodIsSafe,browserSupportsCustomEvents=document.addEventListener&&document.createEvent,browserSupportsCustomEvents&&(installDocumentReadyPageEventTriggers(),installJqueryAjaxSuccessPageUpdateTrigger()),browserSupportsTurbolinks?(visit=fetch,initializeTurbolinks()):visit=function(e){return document.location.href=e},this.Turbolinks={visit:visit,pagesCached:pagesCached,enableTransitionCache:enableTransitionCache,enableProgressBar:enableProgressBar,allowLinkExtensions:Link.allowExtensions,supported:browserSupportsTurbolinks,EVENTS:clone(EVENTS)},function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.NProgress=t()}(this,function(){function e(e,t,n){return t>e?t:e>n?n:e}function t(e){return 100*(-1+e)}function n(e,n,r){var o;return o="translate3d"===c.positionUsing?{transform:"translate3d("+t(e)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+t(e)+"%,0)"}:{"margin-left":t(e)+"%"},o.transition="all "+n+"ms "+r,o}function r(e,t){var n="string"==typeof e?e:s(e);return n.indexOf(" "+t+" ")>=0}function o(e,t){var n=s(e),o=n+t;r(n,t)||(e.className=o.substring(1))}function i(e,t){var n,o=s(e);r(e,t)&&(n=o.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function s(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function a(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var u={};u.version="0.1.6";var c=u.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};u.configure=function(e){var t,n;for(t in e)n=e[t],void 0!==n&&e.hasOwnProperty(t)&&(c[t]=n);return this},u.status=null,u.set=function(t){var r=u.isStarted();t=e(t,c.minimum,1),u.status=1===t?null:t;var o=u.render(!r),i=o.querySelector(c.barSelector),s=c.speed,a=c.easing;return o.offsetWidth,l(function(e){""===c.positionUsing&&(c.positionUsing=u.getPositioningCSS()),d(i,n(t,s,a)),1===t?(d(o,{transition:"none",opacity:1}),o.offsetWidth,setTimeout(function(){d(o,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){u.remove(),e()},s)},s)):setTimeout(e,s)}),this},u.isStarted=function(){return"number"==typeof u.status},u.start=function(){u.status||u.set(0);var e=function(){setTimeout(function(){u.status&&(u.trickle(),e())},c.trickleSpeed)};return c.trickle&&e(),this},u.done=function(e){return e||u.status?u.inc(.3+.5*Math.random()).set(1):this},u.inc=function(t){var n=u.status;return n?("number"!=typeof t&&(t=(1-n)*e(Math.random()*n,.1,.95)),n=e(n+t,0,.994),u.set(n)):u.start()},u.trickle=function(){return u.inc(Math.random()*c.trickleRate)},function(){var e=0,t=0;u.promise=function(n){return n&&"resolved"!=n.state()?(0==t&&u.start(),e++,t++,n.always(function(){t--,0==t?(e=0,u.done()):u.set((e-t)/e)}),this):this}}(),u.render=function(e){if(u.isRendered())return document.getElementById("nprogress");o(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=c.template;var r,i=n.querySelector(c.barSelector),s=e?"-100":t(u.status||0),l=document.querySelector(c.parent);return d(i,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),c.showSpinner||(r=n.querySelector(c.spinnerSelector),r&&a(r)),l!=document.body&&o(l,"nprogress-custom-parent"),l.appendChild(n),n},u.remove=function(){i(document.documentElement,"nprogress-busy"),i(document.querySelector(c.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&a(e)},u.isRendered=function(){return!!document.getElementById("nprogress")},u.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var l=function(){function e(){var n=t.shift();n&&n(e)}var t=[];return function(n){t.push(n),1==t.length&&e()}}(),d=function(){function e(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function t(e){var t=document.body.style;if(e in t)return e;for(var n,r=o.length,i=e.charAt(0).toUpperCase()+e.slice(1);r--;)if(n=o[r]+i,n in t)return n;return e}function n(n){return n=e(n),i[n]||(i[n]=t(n))}function r(e,t,r){t=n(t),e.style[t]=r}var o=["Webkit","O","Moz","ms"],i={};return function(e,t){var n,o,i=arguments;if(2==i.length)for(n in t)o=t[n],void 0!==o&&t.hasOwnProperty(n)&&r(e,n,o);else r(e,i[1],i[2])}}();return u}),function(){"use strict";var e={init:function(){var e=this;e.events.lazyLoaders.init(),setTimeout(function(){e.events.bindListeners()},250),window.userHasScrolled=!1},events:{bindListeners:function(){document.getElementById("work-link").addEventListener("click",this.openWorkMenu),document.body.classList.contains("home")&&document.getElementById("workLink").addEventListener("click",this.openWorkMenu),window.addEventListener("mousemove",this.mouseOverHeader),this.bindScrollListeners(),this.checkPageVisibility()},mouseOverHeader:function(e){var t=document.querySelector(".fixed");e=e||window.event,e.clientY<100&&t.classList.remove("scrolled")},openWorkMenu:function(e){var t=document.getElementById("work-link"),n=t.querySelector(".lines-button").classList,r=document.querySelector(".fixed").classList;return e=e||window.event,e.preventDefault(),r.remove("scrolled"),r.contains("open")?(n.remove("close"),r.remove("open"),document.body.style.overflow="auto",document.body.style.marginTop=0,window.pageYOffset=window.saved_scroll_position):(n.add("close"),r.add("open"),document.body.style.overflow="hidden"),!1},bindScrollListeners:function(){var t,n,r,o=this,i=0,s=document.querySelector(".fixed"),a=s.classList.contains("transparent");window.addEventListener("scroll",function(){clearTimeout(t),clearTimeout(n),r=window.saved_scroll_position=window.pageYOffset,o.scrollHeader(s,r,i),a&&o.setHeaderBg(s,r),t=setTimeout(function(){i=window.pageYOffset},50),window.userHasScrolled||(e.events.lazyLoaders.caseStudy(),window.userHasScrolled=!0),window.trackingScrollEvents||(window.trackingScrollEvents=!0)})},checkPageVisibility:function(){var e="hidden";e in document?document.addEventListener("visibilitychange",this.updatePageTitle):(e="mozHidden")in document?document.addEventListener("mozvisibilitychange",this.updatePageTitle):(e="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",this.updatePageTitle):(e="msHidden")in document?document.addEventListener("msvisibilitychange",this.updatePageTitle):"onfocusin"in document?document.onfocusin=document.onfocusout=this.updatePageTitle:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=this.updatePageTitle},updatePageTitle:function(e){var t=window.pageTitle,n="I Miss You! ❤",r={focus:t,focusin:t,pageshow:t,blur:n,focusout:n,pagehide:n};e=e||window.event,e.type in r?document.title=r[e.type]:document.hidden?document.title=n:document.title=t},scrollHeader:function(e,t,n){n-25>=t||0>=t?e.classList.remove("scrolled"):t>n+25&&t>=100&&e.classList.add("scrolled")},setHeaderBg:function(e,t){var n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=document.querySelector(".contact-header")||document.querySelector(".intro"),o=r?r.clientHeight:n;t>o?e.classList.remove("transparent"):e.classList.add("transparent")},lazyLoaders:{init:function(){this.fonts(),this.colorSwatches(),echo.init({offset:100,throttle:250,unload:!1,debounce:!1})},fonts:function(){function e(){var e=document.createElement("style");e.rel="stylesheet",document.head.appendChild(e),e.textContent=localStorage.gauthier;
}try{if(localStorage.gauthier)e();else{var t=new XMLHttpRequest;t.open("GET","/assets/fonts/gauthier_fy/molovo.css",!0),t.onload=function(){t.status>=200&&t.status<400&&(localStorage.gauthier=t.responseText,e())},t.send()}}catch(n){var r=document.createElement("link");r.rel="stylesheet",r.href="/assets/fonts/gauthier_fy/molovo.css",document.head.appendChild(r)}},ads:function(){var e,t,n=document.querySelectorAll(".ad-container a"),r=Math.floor(Math.random()*n.length+1)-1,o=n[r],i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;o.style.display="inline-block",window.onresize=function(){i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e=i>1071?"large":i>576?"medium":"small",t=o.querySelector('img[data-screen-size="'+e+'"]'),t.src!==t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src"))},window.onresize()},colorSwatches:function(){var e,t,n,r,o=document.querySelectorAll(".swatch");if(!o)return!1;for(r=0;r<o.length;r++)e=o[r],t=e.getAttribute("data-color").replace("\\",""),e.setAttribute("data-color",t),e.style.background=t,n=parseInt(t.replace("#",""),16)>13421772,e.classList.add(n?"light":"dark")},getFile:function(e,t){var n=new XMLHttpRequest;n.onload=function(){t(this.responseText)},n.open("GET",e),n.responseType="text",n.send()},getCaseStudies:function(e){return this.getFile("/case-studies.json",e)},caseStudy:function(){this.getCaseStudies(function(e){var t,n=JSON.parse(e),r=Math.floor(Math.random()*n.length),o=document.getElementById("featured-case-study"),i=document.getElementById("case-study-template"),s=Hogan.compile(i.innerHTML),a=n[r];location.href.indexOf(a.slug)>-1&&(a=n[r===r.length-1?0:r++]),t=s.render(a),o.innerHTML=t,o.style.backgroundImage="url(/assets/dist/img/case-studies/"+a.slug+"/bg.jpg)"})}}},progress:{start:function(){NProgress.start()},remove:function(){NProgress.remove()},done:function(){NProgress.done(),e.init()}}};document.addEventListener("page:fetch",e.progress.start),document.addEventListener("page:restore",e.progress.remove),document.addEventListener("page:change",e.progress.done),document.addEventListener("page:load",e.progress.done())}();