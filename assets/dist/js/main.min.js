!function(a,b,c,d,e){d=a[d]=a[d]||function(){(d.q=d.q||[]).push(arguments)},e=b.createElement(c),c=b.getElementsByTagName(c)[0],e.src="//d1l6p2sc9645hc.cloudfront.net/tracker.js",c.parentNode.insertBefore(e,c)}(window,document,"script","_gs"),_gs("GSN-821671-Z");var Hogan={};!function(a,b){function c(a){return String(null===a||void 0===a?"":a)}function d(a){return a=c(a),j.test(a)?a.replace(e,"&amp;").replace(f,"&lt;").replace(g,"&gt;").replace(h,"&#39;").replace(i,"&quot;"):a}a.Template=function(a,c,d,e){this.r=a||this.r,this.c=d,this.options=e,this.text=c||"",this.buf=b?[]:""},a.Template.prototype={r:function(){return""},v:d,t:c,render:function(a,b,c){return this.ri([a],b||{},c)},ri:function(a,b,c){return this.r(a,b,c)},rp:function(a,b,c,d){var e=c[a];return e?(this.c&&"string"==typeof e&&(e=this.c.compile(e,this.options)),e.ri(b,c,d)):""},rs:function(a,b,c){var d=a[a.length-1];if(!k(d))return void c(a,b,this);for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var h;return k(a)&&0===a.length?!1:("function"==typeof a&&(a=this.ls(a,b,c,d,e,f,g)),h=""===a||!!a,!d&&h&&b&&b.push("object"==typeof a?a:b[b.length-1]),h)},d:function(a,b,c,d){var e=a.split("."),f=this.f(e[0],b,c,d),g=null;if("."===a&&k(b[b.length-2]))return b[b.length-1];for(var h=1;h<e.length;h++)f&&"object"==typeof f&&e[h]in f?(g=f,f=f[e[h]]):f="";return d&&!f?!1:(d||"function"!=typeof f||(b.push(g),f=this.lv(f,b,c),b.pop()),f)},f:function(a,b,c,d){for(var e=!1,f=null,g=!1,h=b.length-1;h>=0;h--)if(f=b[h],f&&"object"==typeof f&&a in f){e=f[a],g=!0;break}return g?(d||"function"!=typeof e||(e=this.lv(e,b,c)),e):d?!1:""},ho:function(a,b,c,d,e){var f=this.c,g=this.options;g.delimiters=e;var d=a.call(b,d);return d=null==d?String(d):d.toString(),this.b(f.compile(d,g).render(b,c)),!1},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join("");return this.buf=[],a}:function(){var a=this.buf;return this.buf="",a},ls:function(a,b,c,d,e,f,g){var h=b[b.length-1],i=null;if(!d&&this.c&&a.length>0)return this.ho(a,h,c,this.text.substring(e,f),g);if(i=a.call(h),"function"==typeof i){if(d)return!0;if(this.c)return this.ho(i,h,c,this.text.substring(e,f),g)}return i},lv:function(a,b,d){var e=b[b.length-1],f=a.call(e);return"function"==typeof f&&(f=c(f.call(e)),this.c&&~f.indexOf("{{"))?this.c.compile(f,this.options).render(e,d):c(f)}};var e=/&/g,f=/</g,g=/>/g,h=/\'/g,i=/\"/g,j=/[&<>\"\']/,k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}}("undefined"!=typeof exports?exports:Hogan),function(a){function b(a){"}"===a.n.substr(a.n.length-1)&&(a.n=a.n.substring(0,a.n.length-1))}function c(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")}function d(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;e>d;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function e(a,b,c,d){for(var h=[],i=null,j=null;a.length>0;)if(j=a.shift(),"#"==j.tag||"^"==j.tag||f(j,d))c.push(j),j.nodes=e(a,j.tag,c,d),h.push(j);else{if("/"==j.tag){if(0===c.length)throw new Error("Closing tag without opener: /"+j.n);if(i=c.pop(),j.n!=i.n&&!g(j.n,i.n,d))throw new Error("Nesting error: "+i.n+" vs. "+j.n);return i.end=j.i,h}h.push(j)}if(c.length>0)throw new Error("missing closing tag: "+c.pop().n);return h}function f(a,b){for(var c=0,d=b.length;d>c;c++)if(b[c].o==a.n)return a.tag="#",!0}function g(a,b,c){for(var d=0,e=c.length;e>d;d++)if(c[d].c==a&&c[d].o==b)return!0}function h(a){return a.replace(u,"\\\\").replace(r,'\\"').replace(s,"\\n").replace(t,"\\r")}function i(a){return~a.indexOf(".")?"d":"f"}function j(a){for(var b="",c=0,d=a.length;d>c;c++){var e=a[c].tag;"#"==e?b+=k(a[c].nodes,a[c].n,i(a[c].n),a[c].i,a[c].end,a[c].otag+" "+a[c].ctag):"^"==e?b+=l(a[c].nodes,a[c].n,i(a[c].n)):"<"==e||">"==e?b+=m(a[c]):"{"==e||"&"==e?b+=n(a[c].n,i(a[c].n)):"\n"==e?b+=p('"\\n"'+(a.length-1==c?"":" + i")):"_v"==e?b+=o(a[c].n,i(a[c].n)):void 0===e&&(b+=p('"'+h(a[c])+'"'))}return b}function k(a,b,c,d,e,f){return"if(_.s(_."+c+'("'+h(b)+'",c,p,1),c,p,0,'+d+","+e+',"'+f+'")){_.rs(c,p,function(c,p,_){'+j(a)+"});c.pop();}"}function l(a,b,c){return"if(!_.s(_."+c+'("'+h(b)+'",c,p,1),c,p,1,0,0,"")){'+j(a)+"};"}function m(a){return'_.b(_.rp("'+h(a.n)+'",c,p,"'+(a.indent||"")+'"));'}function n(a,b){return"_.b(_.t(_."+b+'("'+h(a)+'",c,p,0)));'}function o(a,b){return"_.b(_.v(_."+b+'("'+h(a)+'",c,p,0)));'}function p(a){return"_.b("+a+");"}var q=/\S/,r=/\"/g,s=/\n/g,t=/\r/g,u=/\\/g,v={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};a.scan=function(a,e){function f(){r.length>0&&(s.push(new String(r)),r="")}function g(){for(var a=!0,b=w;b<s.length;b++)if(a=s[b].tag&&v[s[b].tag]<v._v||!s[b].tag&&null===s[b].match(q),!a)return!1;return a}function h(a,b){if(f(),a&&g())for(var c,d=w;d<s.length;d++)s[d].tag||((c=s[d+1])&&">"==c.tag&&(c.indent=s[d].toString()),s.splice(d,1));else b||s.push({tag:"\n"});t=!1,w=s.length}function i(a,b){var d="="+y,e=a.indexOf(d,b),f=c(a.substring(a.indexOf("=",b)+1,e)).split(" ");return x=f[0],y=f[1],e+d.length-1}var j=a.length,k=0,l=1,m=2,n=k,o=null,p=null,r="",s=[],t=!1,u=0,w=0,x="{{",y="}}";for(e&&(e=e.split(" "),x=e[0],y=e[1]),u=0;j>u;u++)n==k?d(x,a,u)?(--u,f(),n=l):"\n"==a.charAt(u)?h(t):r+=a.charAt(u):n==l?(u+=x.length-1,p=v[a.charAt(u+1)],o=p?a.charAt(u+1):"_v","="==o?(u=i(a,u),n=k):(p&&u++,n=m),t=u):d(y,a,u)?(s.push({tag:o,n:c(r),otag:x,ctag:y,i:"/"==o?t-y.length:u+x.length}),r="",u+=y.length-1,n=k,"{"==o&&("}}"==y?u++:b(s[s.length-1]))):r+=a.charAt(u);return h(t,!0),s},a.generate=function(b,c,d){var e='var _=this;_.b(i=i||"");'+j(b)+"return _.fl();";return d.asString?"function(c,p,i){"+e+";}":new a.Template(new Function("c","p","i",e),c,a,d)},a.parse=function(a,b,c){return c=c||{},e(a,"",[],c.sectionTags||[])},a.cache={},a.compile=function(a,b){b=b||{};var c=a+"||"+!!b.asString,d=this.cache[c];return d?d:(d=this.generate(this.parse(this.scan(a,b.delimiters),a,b),a,b),this.cache[c]=d)}}("undefined"!=typeof exports?exports:Hogan),function(a,b){"function"==typeof define&&define.amd?define(function(){return b(a)}):"object"==typeof exports?module.exports=b:a.echo=b(a)}(this,function(a){"use strict";var b,c,d,e,f,g={},h=function(){},i=function(a){return null===a.offsetParent},j=function(a,b){if(i(a))return!1;var c=a.getBoundingClientRect();return c.right>=b.l&&c.bottom>=b.t&&c.left<=b.r&&c.top<=b.b},k=function(){(e||!c)&&(clearTimeout(c),c=setTimeout(function(){g.render(),c=null},d))};return g.init=function(c){c=c||{};var i=c.offset||0,j=c.offsetVertical||i,l=c.offsetHorizontal||i,m=function(a,b){return parseInt(a||b,10)};b={t:m(c.offsetTop,j),b:m(c.offsetBottom,j),l:m(c.offsetLeft,l),r:m(c.offsetRight,l)},d=m(c.throttle,250),e=c.debounce!==!1,f=!!c.unload,h=c.callback||h,g.render(),document.addEventListener?(a.addEventListener("scroll",k,!1),a.addEventListener("load",k,!1)):(a.attachEvent("onscroll",k),a.attachEvent("onload",k))},g.render=function(){for(var c,d,e=document.querySelectorAll("img[data-echo], [data-echo-background]"),i=e.length,k={l:0-b.l,t:0-b.t,b:(a.innerHeight||document.documentElement.clientHeight)+b.b,r:(a.innerWidth||document.documentElement.clientWidth)+b.r},l=0;i>l;l++)d=e[l],j(d,k)?(f&&d.setAttribute("data-echo-placeholder",d.src),null!==d.getAttribute("data-echo-background")?d.style.backgroundImage="url("+d.getAttribute("data-echo-background")+")":d.src=d.getAttribute("data-echo"),f||(d.removeAttribute("data-echo"),d.removeAttribute("data-echo-background")),h(d,"load")):f&&(c=d.getAttribute("data-echo-placeholder"))&&(null!==d.getAttribute("data-echo-background")?d.style.backgroundImage="url("+c+")":d.src=c,d.removeAttribute("data-echo-placeholder"),h(d,"unload"));i||g.detach()},g.detach=function(){document.removeEventListener?a.removeEventListener("scroll",k):a.detachEvent("onscroll",k),clearTimeout(c)},g});var CSRFToken,Click,ComponentUrl,EVENTS,Link,ProgressBar,browserCompatibleDocumentParser,browserIsntBuggy,browserSupportsCustomEvents,browserSupportsPushState,browserSupportsTurbolinks,bypassOnLoadPopstate,cacheCurrentPage,cacheSize,changePage,clone,constrainPageCacheTo,createDocument,crossOriginRedirect,currentState,enableProgressBar,enableTransitionCache,executeScriptTags,extractTitleAndBody,fetch,fetchHistory,fetchReplacement,historyStateIsDefined,initializeTurbolinks,installDocumentReadyPageEventTriggers,installHistoryChangeHandler,installJqueryAjaxSuccessPageUpdateTrigger,loadedAssets,manuallyTriggerHashChangeForFirefox,pageCache,pageChangePrevented,pagesCached,popCookie,processResponse,progressBar,recallScrollPosition,referer,reflectNewUrl,reflectRedirectedUrl,rememberCurrentState,rememberCurrentUrl,rememberReferer,removeNoscriptTags,requestMethodIsSafe,resetScrollPosition,setAutofocusElement,transitionCacheEnabled,transitionCacheFor,triggerEvent,visit,xhr,_ref,__indexOf=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},__slice=[].slice,__bind=function(a,b){return function(){return a.apply(b,arguments)}};pageCache={},cacheSize=10,transitionCacheEnabled=!1,progressBar=null,currentState=null,loadedAssets=null,referer=null,createDocument=null,xhr=null,EVENTS={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},fetch=function(a){var b;return a=new ComponentUrl(a),rememberReferer(),cacheCurrentPage(),null!=progressBar&&progressBar.start(),transitionCacheEnabled&&(b=transitionCacheFor(a.absolute))?(fetchHistory(b),fetchReplacement(a,null,!1)):fetchReplacement(a,resetScrollPosition)},transitionCacheFor=function(a){var b;return b=pageCache[a],b&&!b.transitionCacheDisabled?b:void 0},enableTransitionCache=function(a){return null==a&&(a=!0),transitionCacheEnabled=a},enableProgressBar=function(a){return null==a&&(a=!0),a?null!=progressBar?progressBar:progressBar=new ProgressBar("html"):(null!=progressBar&&progressBar.uninstall(),progressBar=null)},fetchReplacement=function(a,b,c){return null==c&&(c=!0),triggerEvent(EVENTS.FETCH,{url:a.absolute}),null!=xhr&&xhr.abort(),xhr=new XMLHttpRequest,xhr.open("GET",a.withoutHashForIE10compatibility(),!0),xhr.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),xhr.setRequestHeader("X-XHR-Referer",referer),xhr.onload=function(){var c;return triggerEvent(EVENTS.RECEIVE,{url:a.absolute}),(c=processResponse())?(reflectNewUrl(a),reflectRedirectedUrl(),changePage.apply(null,extractTitleAndBody(c)),manuallyTriggerHashChangeForFirefox(),"function"==typeof b&&b(),triggerEvent(EVENTS.LOAD)):document.location.href=crossOriginRedirect()||a.absolute},progressBar&&c&&(xhr.onprogress=function(){return function(a){var b;return b=a.lengthComputable?a.loaded/a.total*100:progressBar.value+(100-progressBar.value)/10,progressBar.advanceTo(b)}}(this)),xhr.onloadend=function(){return xhr=null},xhr.onerror=function(){return document.location.href=a.absolute},xhr.send()},fetchHistory=function(a){return null!=xhr&&xhr.abort(),changePage(a.title,a.body),recallScrollPosition(a),triggerEvent(EVENTS.RESTORE)},cacheCurrentPage=function(){var a;return a=new ComponentUrl(currentState.url),pageCache[a.absolute]={url:a.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},constrainPageCacheTo(cacheSize)},pagesCached=function(a){return null==a&&(a=cacheSize),/^[\d]+$/.test(a)?cacheSize=parseInt(a):void 0},constrainPageCacheTo=function(a){var b,c,d,e,f,g;for(d=Object.keys(pageCache),b=d.map(function(a){return pageCache[a].cachedAt}).sort(function(a,b){return b-a}),g=[],e=0,f=d.length;f>e;e++)c=d[e],pageCache[c].cachedAt<=b[a]&&(triggerEvent(EVENTS.EXPIRE,pageCache[c]),g.push(delete pageCache[c]));return g},changePage=function(a,b,c,d){return triggerEvent(EVENTS.BEFORE_UNLOAD),document.title=a,document.documentElement.replaceChild(b,document.body),null!=c&&CSRFToken.update(c),setAutofocusElement(),d&&executeScriptTags(),currentState=window.history.state,null!=progressBar&&progressBar.done(),triggerEvent(EVENTS.CHANGE),triggerEvent(EVENTS.UPDATE)},executeScriptTags=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(f=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),g=0,i=f.length;i>g;g++)if(e=f[g],""===(k=e.type)||"text/javascript"===k){for(b=document.createElement("script"),l=e.attributes,h=0,j=l.length;j>h;h++)a=l[h],b.setAttribute(a.name,a.value);e.hasAttribute("async")||(b.async=!1),b.appendChild(document.createTextNode(e.innerHTML)),d=e.parentNode,c=e.nextSibling,d.removeChild(e),d.insertBefore(b,c)}},removeNoscriptTags=function(a){return a.innerHTML=a.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),a},setAutofocusElement=function(){var a,b;return a=(b=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[b.length-1],a&&document.activeElement!==a?a.focus():void 0},reflectNewUrl=function(a){return(a=new ComponentUrl(a)).absolute!==referer?window.history.pushState({turbolinks:!0,url:a.absolute},"",a.absolute):void 0},reflectRedirectedUrl=function(){var a,b;return(a=xhr.getResponseHeader("X-XHR-Redirected-To"))?(a=new ComponentUrl(a),b=a.hasNoHash()?document.location.hash:"",window.history.replaceState(currentState,"",a.href+b)):void 0},crossOriginRedirect=function(){var a;return null!=(a=xhr.getResponseHeader("Location"))&&new ComponentUrl(a).crossOrigin()?a:void 0},rememberReferer=function(){return referer=document.location.href},rememberCurrentUrl=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},rememberCurrentState=function(){return currentState=window.history.state},manuallyTriggerHashChangeForFirefox=function(){var a;return navigator.userAgent.match(/Firefox/)&&!(a=new ComponentUrl).hasNoHash()?(window.history.replaceState(currentState,"",a.withoutHash()),document.location.hash=a.hash):void 0},recallScrollPosition=function(a){return window.scrollTo(a.positionX,a.positionY)},resetScrollPosition=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},clone=function(a){var b,c,d;if(null==a||"object"!=typeof a)return a;b=new a.constructor;for(c in a)d=a[c],b[c]=clone(d);return b},popCookie=function(a){var b,c;return b=(null!=(c=document.cookie.match(new RegExp(a+"=(\\w+)")))?c[1].toUpperCase():void 0)||"",document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",b},triggerEvent=function(a,b){var c;return"undefined"!=typeof Prototype&&Event.fire(document,a,b,!0),c=document.createEvent("Events"),b&&(c.data=b),c.initEvent(a,!0,!0),document.dispatchEvent(c)},pageChangePrevented=function(a){return!triggerEvent(EVENTS.BEFORE_CHANGE,{url:a})},processResponse=function(){var a,b,c,d,e,f;return b=function(){var a;return 400<=(a=xhr.status)&&600>a},f=function(){var a;return null!=(a=xhr.getResponseHeader("Content-Type"))&&a.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},d=function(a){var b,c,d,e,f;for(e=a.querySelector("head").childNodes,f=[],c=0,d=e.length;d>c;c++)b=e[c],null!=("function"==typeof b.getAttribute?b.getAttribute("data-turbolinks-track"):void 0)&&f.push(b.getAttribute("src")||b.getAttribute("href"));return f},a=function(a){var b;return loadedAssets||(loadedAssets=d(document)),b=d(a),b.length!==loadedAssets.length||e(b,loadedAssets).length!==loadedAssets.length},e=function(a,b){var c,d,e,f,g;for(a.length>b.length&&(f=[b,a],a=f[0],b=f[1]),g=[],d=0,e=a.length;e>d;d++)c=a[d],__indexOf.call(b,c)>=0&&g.push(c);return g},!b()&&f()&&(c=createDocument(xhr.responseText),c&&!a(c))?c:void 0},extractTitleAndBody=function(a){var b;return b=a.querySelector("title"),[null!=b?b.textContent:void 0,removeNoscriptTags(a.querySelector("body")),CSRFToken.get(a).token,"runScripts"]},CSRFToken={get:function(a){var b;return null==a&&(a=document),{node:b=a.querySelector('meta[name="csrf-token"]'),token:null!=b&&"function"==typeof b.getAttribute?b.getAttribute("content"):void 0}},update:function(a){var b;return b=this.get(),null!=b.token&&null!=a&&b.token!==a?b.node.setAttribute("content",a):void 0}},browserCompatibleDocumentParser=function(){var a,b,c,d,e,f,g,h,i,j;d=function(a){return(new DOMParser).parseFromString(a,"text/html")},b=function(a){var b;return b=document.implementation.createHTMLDocument(""),b.documentElement.innerHTML=a,b},e=function(a){var b;return b=document.implementation.createHTMLDocument(""),b.open("replace"),b.write(a),b.close(),b},c=function(a){var b,c,d,e,f,g;return d=(null!=(f=a.match(/<head[^>]*>([\s\S.]*)<\/head>/i))?f[0]:void 0)||"<head></head>",b=(null!=(g=a.match(/<body[^>]*>([\s\S.]*)<\/body>/i))?g[0]:void 0)||"<body></body>",e=document.createElement("html"),e.innerHTML=d+b,c=document.createDocumentFragment(),c.appendChild(e),c},a=function(a){var b,d,f;return b=function(a,b){return{passes:b(),fallback:a}},f=b(e,function(){return function(){var b,c;return 1===(null!=(b=a("<html><body><p>test"))&&null!=(c=b.body)?c.childNodes.length:void 0)}}(this)),d=b(c,function(){return function(){var b,c;return 2===(null!=(b=a("<html><body><form></form><div></div></body></html>"))&&null!=(c=b.body)?c.childNodes.length:void 0)}}(this)),[f,d]};try{if(window.DOMParser)return g=a(d),d}catch(k){return h=k,g=a(b),b}finally{for(i=0,j=g.length;j>i;i++)if(f=g[i],!f.passes)return f.fallback}},ComponentUrl=function(){function a(b){return this.original=null!=b?b:document.location.href,this.original.constructor===a?this.original:void this._parse()}return a.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},a.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},a.prototype.hasNoHash=function(){return 0===this.hash.length},a.prototype.crossOrigin=function(){return this.origin!==(new a).origin},a.prototype._parse=function(){var a;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,a=this.link,this.href=a.href,this.protocol=a.protocol,this.host=a.host,this.hostname=a.hostname,this.port=a.port,this.pathname=a.pathname,this.search=a.search,this.hash=a.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},a}(),Link=function(a){function b(a){return this.link=a,this.link.constructor===b?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void b.__super__.constructor.apply(this,arguments))}return __extends(b,a),b.HTML_EXTENSIONS=["html"],b.allowExtensions=function(){var a,c,d,e;for(c=1<=arguments.length?__slice.call(arguments,0):[],d=0,e=c.length;e>d;d++)a=c[d],b.HTML_EXTENSIONS.push(a);return b.HTML_EXTENSIONS},b.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},b.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new ComponentUrl).withoutHash()},b.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+b.HTML_EXTENSIONS.join("|")+")?$","g"))},b.prototype._optOut=function(){var a,b;for(b=this.originalElement;!a&&b!==document;)a=null!=b.getAttribute("data-no-turbolink"),b=b.parentNode;return a},b.prototype._target=function(){return 0!==this.link.target.length},b}(ComponentUrl),Click=function(){function a(a){this.event=a,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(pageChangePrevented(this.link.absolute)||visit(this.link.href),this.event.preventDefault()))}return a.installHandlerLast=function(b){return b.defaultPrevented?void 0:(document.removeEventListener("click",a.handle,!1),document.addEventListener("click",a.handle,!1))},a.handle=function(b){return new a(b)},a.prototype._extractLink=function(){var a;for(a=this.event.target;a.parentNode&&"A"!==a.nodeName;)a=a.parentNode;return"A"===a.nodeName&&0!==a.href.length?this.link=new Link(a):void 0},a.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},a.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},a}(),ProgressBar=function(){function a(a){this.elementSelector=a,this._trickle=__bind(this._trickle,this),this.value=0,this.opacity=1,this.content="",this.speed=300,this.install()}var b;return b="turbolinks-progress-bar",a.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(b),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},a.prototype.uninstall=function(){return this.element.classList.remove(b),document.head.removeChild(this.styleElement)},a.prototype.start=function(){return this.advanceTo(5)},a.prototype.advanceTo=function(a){var b;if(a>(b=this.value)&&100>=b){if(this.value=a,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},a.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},a.prototype._reset=function(){return setTimeout(function(a){return function(){return a.opacity=0,a._updateStyle()}}(this),this.speed/2),setTimeout(function(a){return function(){return a.value=0,a.opacity=1,a._withSpeed(0,function(){return a._updateStyle(!0)})}}(this),this.speed)},a.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},a.prototype._stopTrickle=function(){return delete this.trickling},a.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},a.prototype._withSpeed=function(a,b){var c,d;return c=this.speed,this.speed=a,d=b(),this.speed=c,d},a.prototype._updateStyle=function(a){return null==a&&(a=!1),a&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},a.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},a.prototype._createCSSRule=function(){return""+this.elementSelector+"."+b+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},a}(),bypassOnLoadPopstate=function(a){return setTimeout(a,500)},installDocumentReadyPageEventTriggers=function(){return document.addEventListener("DOMContentLoaded",function(){return triggerEvent(EVENTS.CHANGE),triggerEvent(EVENTS.UPDATE)},!0)},installJqueryAjaxSuccessPageUpdateTrigger=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(a,b){return jQuery.trim(b.responseText)?triggerEvent(EVENTS.UPDATE):void 0}):void 0},installHistoryChangeHandler=function(a){var b,c;return(null!=(c=a.state)?c.turbolinks:void 0)?(b=pageCache[new ComponentUrl(a.state.url).absolute])?(cacheCurrentPage(),fetchHistory(b)):visit(a.target.location.href):void 0},initializeTurbolinks=function(){return rememberCurrentUrl(),rememberCurrentState(),createDocument=browserCompatibleDocumentParser(),document.addEventListener("click",Click.installHandlerLast,!0),window.addEventListener("hashchange",function(){return rememberCurrentUrl(),rememberCurrentState()},!1),bypassOnLoadPopstate(function(){return window.addEventListener("popstate",installHistoryChangeHandler,!1)})},historyStateIsDefined=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),browserSupportsPushState=window.history&&window.history.pushState&&window.history.replaceState&&historyStateIsDefined,browserIsntBuggy=!navigator.userAgent.match(/CriOS\//),requestMethodIsSafe="GET"===(_ref=popCookie("request_method"))||""===_ref,browserSupportsTurbolinks=browserSupportsPushState&&browserIsntBuggy&&requestMethodIsSafe,browserSupportsCustomEvents=document.addEventListener&&document.createEvent,browserSupportsCustomEvents&&(installDocumentReadyPageEventTriggers(),installJqueryAjaxSuccessPageUpdateTrigger()),browserSupportsTurbolinks?(visit=fetch,initializeTurbolinks()):visit=function(a){return document.location.href=a},this.Turbolinks={visit:visit,pagesCached:pagesCached,enableTransitionCache:enableTransitionCache,enableProgressBar:enableProgressBar,allowLinkExtensions:Link.allowExtensions,supported:browserSupportsTurbolinks,EVENTS:clone(EVENTS)},function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.NProgress=b()}(this,function(){function a(a,b,c){return b>a?b:a>c?c:a}function b(a){return 100*(-1+a)}function c(a,c,d){var e;return e="translate3d"===j.positionUsing?{transform:"translate3d("+b(a)+"%,0,0)"}:"translate"===j.positionUsing?{transform:"translate("+b(a)+"%,0)"}:{"margin-left":b(a)+"%"},e.transition="all "+c+"ms "+d,e}function d(a,b){var c="string"==typeof a?a:g(a);return c.indexOf(" "+b+" ")>=0}function e(a,b){var c=g(a),e=c+b;d(c,b)||(a.className=e.substring(1))}function f(a,b){var c,e=g(a);d(a,b)&&(c=e.replace(" "+b+" "," "),a.className=c.substring(1,c.length-1))}function g(a){return(" "+(a.className||"")+" ").replace(/\s+/gi," ")}function h(a){a&&a.parentNode&&a.parentNode.removeChild(a)}var i={};i.version="0.1.6";var j=i.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};i.configure=function(a){var b,c;for(b in a)c=a[b],void 0!==c&&a.hasOwnProperty(b)&&(j[b]=c);return this},i.status=null,i.set=function(b){var d=i.isStarted();b=a(b,j.minimum,1),i.status=1===b?null:b;var e=i.render(!d),f=e.querySelector(j.barSelector),g=j.speed,h=j.easing;return e.offsetWidth,k(function(a){""===j.positionUsing&&(j.positionUsing=i.getPositioningCSS()),l(f,c(b,g,h)),1===b?(l(e,{transition:"none",opacity:1}),e.offsetWidth,setTimeout(function(){l(e,{transition:"all "+g+"ms linear",opacity:0}),setTimeout(function(){i.remove(),a()},g)},g)):setTimeout(a,g)}),this},i.isStarted=function(){return"number"==typeof i.status},i.start=function(){i.status||i.set(0);var a=function(){setTimeout(function(){i.status&&(i.trickle(),a())},j.trickleSpeed)};return j.trickle&&a(),this},i.done=function(a){return a||i.status?i.inc(.3+.5*Math.random()).set(1):this},i.inc=function(b){var c=i.status;return c?("number"!=typeof b&&(b=(1-c)*a(Math.random()*c,.1,.95)),c=a(c+b,0,.994),i.set(c)):i.start()},i.trickle=function(){return i.inc(Math.random()*j.trickleRate)},function(){var a=0,b=0;i.promise=function(c){return c&&"resolved"!=c.state()?(0==b&&i.start(),a++,b++,c.always(function(){b--,0==b?(a=0,i.done()):i.set((a-b)/a)}),this):this}}(),i.render=function(a){if(i.isRendered())return document.getElementById("nprogress");e(document.documentElement,"nprogress-busy");var c=document.createElement("div");c.id="nprogress",c.innerHTML=j.template;var d,f=c.querySelector(j.barSelector),g=a?"-100":b(i.status||0),k=document.querySelector(j.parent);return l(f,{transition:"all 0 linear",transform:"translate3d("+g+"%,0,0)"}),j.showSpinner||(d=c.querySelector(j.spinnerSelector),d&&h(d)),k!=document.body&&e(k,"nprogress-custom-parent"),k.appendChild(c),c},i.remove=function(){f(document.documentElement,"nprogress-busy"),f(document.querySelector(j.parent),"nprogress-custom-parent");var a=document.getElementById("nprogress");a&&h(a)},i.isRendered=function(){return!!document.getElementById("nprogress")},i.getPositioningCSS=function(){var a=document.body.style,b="WebkitTransform"in a?"Webkit":"MozTransform"in a?"Moz":"msTransform"in a?"ms":"OTransform"in a?"O":"";return b+"Perspective"in a?"translate3d":b+"Transform"in a?"translate":"margin"};var k=function(){function a(){var c=b.shift();c&&c(a)}var b=[];return function(c){b.push(c),1==b.length&&a()}}(),l=function(){function a(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()})}function b(a){var b=document.body.style;if(a in b)return a;for(var c,d=e.length,f=a.charAt(0).toUpperCase()+a.slice(1);d--;)if(c=e[d]+f,c in b)return c;return a}function c(c){return c=a(c),f[c]||(f[c]=b(c))}function d(a,b,d){b=c(b),a.style[b]=d}var e=["Webkit","O","Moz","ms"],f={};return function(a,b){var c,e,f=arguments;if(2==f.length)for(c in b)e=b[c],void 0!==e&&b.hasOwnProperty(c)&&d(a,c,e);else d(a,f[1],f[2])}}();return i}),function(){"use strict";var a={init:function(){var a=this;a.events.lazyLoaders.init(),setTimeout(function(){a.events.bindListeners()},250),window.userHasScrolled=!1},events:{bindListeners:function(){document.getElementById("work-link").addEventListener("click",this.openWorkMenu),document.body.classList.contains("contact")&&(document.getElementById("project-type").onchange=function(){document.getElementById("linkToContactForm").click(),document.getElementById("name").focus()}),window.addEventListener("mousemove",this.mouseOverHeader),this.bindScrollListeners(),this.pageLoadListeners(),this.checkPageVisibility()},mouseOverHeader:function(a){var b=document.querySelector(".fixed");a=a||window.event,a.clientY<100&&b.classList.remove("scrolled")},openWorkMenu:function(a){var b=document.getElementById("work-link"),c=b.querySelector(".lines-button").classList,d=document.querySelector(".fixed").classList;return a=a||window.event,a.preventDefault(),d.remove("scrolled"),d.contains("open")?(c.remove("close"),d.remove("open"),document.body.style.overflow="auto",document.body.style.marginTop=0,window.pageYOffset=window.saved_scroll_position):(c.add("close"),d.add("open"),document.body.style.overflow="hidden"),!1},bindScrollListeners:function(){var b,c,d,e=this,f=0,g=document.querySelector(".fixed"),h=g.classList.contains("transparent");window.addEventListener("scroll",function(){clearTimeout(b),clearTimeout(c),d=window.saved_scroll_position=window.pageYOffset,e.scrollHeader(g,d,f),h&&e.setHeaderBg(g,d),b=setTimeout(function(){f=window.pageYOffset},50),window.userHasScrolled||(a.events.lazyLoaders.caseStudy(),window.userHasScrolled=!0),window.trackingScrollEvents||(window.trackingScrollEvents=!0)})},checkPageVisibility:function(){var a="hidden";a in document?document.addEventListener("visibilitychange",this.updatePageTitle):(a="mozHidden")in document?document.addEventListener("mozvisibilitychange",this.updatePageTitle):(a="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",this.updatePageTitle):(a="msHidden")in document?document.addEventListener("msvisibilitychange",this.updatePageTitle):"onfocusin"in document?document.onfocusin=document.onfocusout=this.updatePageTitle:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=this.updatePageTitle},updatePageTitle:function(a){var b=window.pageTitle,c="I Miss You! â¤",d={focus:b,focusin:b,pageshow:b,blur:c,focusout:c,pagehide:c};a=a||window.event,document.title=a.type in d?d[a.type]:document.hidden?c:b},scrollHeader:function(a,b,c){c-25>=b||0>=b?a.classList.remove("scrolled"):b>c+25&&b>=100&&a.classList.add("scrolled")},setHeaderBg:function(a,b){var c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=document.querySelector(".contact-header")||document.querySelector(".intro"),e=d?d.clientHeight:c;
b>e?a.classList.remove("transparent"):a.classList.add("transparent")},lazyLoaders:{init:function(){this.colorSwatches(),document.body.classList.contains("blog")&&this.ads(),echo.init({offset:100,throttle:250,unload:!1,debounce:!1})},ads:function(){var a,b,c=document.querySelectorAll(".ad-container a"),d=Math.floor(Math.random()*c.length+1)-1,e=c[d],f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e.style.display="inline-block",window.onresize=function(){f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=f>1071?"large":f>576?"medium":"small",b=e.querySelector('img[data-screen-size="'+a+'"]'),b.src!==b.getAttribute("data-src")&&(b.src=b.getAttribute("data-src"))},window.onresize()},colorSwatches:function(){var a,b,c,d,e=document.querySelectorAll(".swatch");if(!e)return!1;for(d=0;d<e.length;d++)a=e[d],b=a.getAttribute("data-color").replace("\\",""),a.setAttribute("data-color",b),a.style.background=b,c=parseInt(b.replace("#",""),16)>13421772,a.classList.add(c?"light":"dark")},getFile:function(a,b){var c=new XMLHttpRequest;c.onload=function(){b(this.responseText)},c.open("GET",a),c.responseType="text",c.send()},getCaseStudies:function(a){return this.getFile("/case-studies.json",a)},caseStudy:function(){this.getCaseStudies(function(a){var b,c=JSON.parse(a),d=Math.floor(Math.random()*c.length),e=document.getElementById("featured-case-study"),f=document.getElementById("case-study-template"),g=Hogan.compile(f.innerHTML),h=c[d];location.href.indexOf(h.slug)>-1&&(h=c[d===d.length-1?0:d++]),b=g.render(h),e.innerHTML=b,e.style.backgroundImage="url(/assets/dist/img/case-studies/"+h.slug+"/bg.jpg)"})}}},progress:{start:function(){NProgress.start()},remove:function(){NProgress.remove()},done:function(){NProgress.done(),a.init(),_gs("track")}}};a.init(),document.addEventListener("page:fetch",a.progress.start),document.addEventListener("page:restore",a.progress.remove),document.addEventListener("page:change",a.progress.done),document.addEventListener("page:load",a.progress.done)}();
//# sourceMappingURL=main.min.js.map