var ss={fixAllLinks:function(){for(var a=document.getElementsByTagName("a"),b=0;b<a.length;b++){var c=a[b];!c.href||-1==c.href.indexOf("#")||c.pathname!=location.pathname&&"/"+c.pathname!=location.pathname||c.search!=location.search||ss.addEvent(c,"click",ss.smoothScroll)}},smoothScroll:function(a){if(window.event)target=window.event.srcElement;else{if(!a)return;target=a.target}if(ss.STEPS=target.getAttribute("data-steps")||25,"a"!=target.nodeName.toLowerCase()&&(target=target.parentNode),"a"==target.nodeName.toLowerCase()){anchor=target.hash.substr(1);for(var b=document.getElementsByTagName("a"),c=null,d=0;d<b.length;d++){var e=b[d];if(e.name&&e.name==anchor){c=e;break}}if("work"==anchor)return!1;if(c||(c=document.getElementById(anchor)),!c)return!0;for(var f=c.offsetLeft,g=c.offsetTop,h=c;h.offsetParent&&h.offsetParent!=document.body;)h=h.offsetParent,f+=h.offsetLeft,g+=h.offsetTop;clearInterval(ss.INTERVAL),cypos=ss.getCurrentYPos(),ss_stepsize=parseInt((g-cypos)/ss.STEPS),ss.INTERVAL=setInterval("ss.scrollWindow("+ss_stepsize+","+g+',"'+anchor+'")',10),window.event&&(window.event.cancelBubble=!0,window.event.returnValue=!1),a&&a.preventDefault&&a.stopPropagation&&(a.preventDefault(),a.stopPropagation())}},scrollWindow:function(a,b,c){wascypos=ss.getCurrentYPos(),isAbove=b>wascypos,window.scrollTo(0,wascypos+a),iscypos=ss.getCurrentYPos(),isAboveNow=b>iscypos,(isAbove!=isAboveNow||wascypos==iscypos)&&(window.scrollTo(0,b),clearInterval(ss.INTERVAL),location.hash=c)},getCurrentYPos:function(){return document.body&&document.body.scrollTop?document.body.scrollTop:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:window.pageYOffset?window.pageYOffset:0},addEvent:function(a,b,c,d){if(a.addEventListener)return a.addEventListener(b,c,d),!0;if(a.attachEvent){var e=a.attachEvent("on"+b,c);return e}alert("Handler could not be removed")}};ss.addEvent(window,"load",ss.fixAllLinks),function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.viewportUnitsBuggyfill=b()}(this,function(){"use strict";function a(a){q||!a&&!/ip.+mobile.+safari/i.test(window.navigator.userAgent)||(q=!0,p=document.createElement("style"),p.id="patched-viewport",document.head.appendChild(p),j(function(){window.addEventListener("orientationchange",c,!0),c()}))}function b(){p.textContent=f()}function c(){q&&(d(),b())}function d(){return o=[],s.call(document.styleSheets,function(a){"patched-viewport"!==a.ownerNode.id&&a.cssRules&&(!a.media.mediaText||window.matchMedia(a.media.mediaText).matches)&&s.call(a.cssRules,e)}),o}function e(a){if(7===a.type){var b=a.cssText;return r.lastIndex=0,void(r.test(b)&&o.push([a,null,b]))}if(!a.style){if(!a.cssRules)return;return void s.call(a.cssRules,function(a){e(a)})}s.call(a.style,function(b){var c=a.style.getPropertyValue(b);r.lastIndex=0,r.test(c)&&o.push([a,b,c])})}function f(){n=i();var a,b,c=[],d=[];return o.forEach(function(e){var f=g.apply(null,e),h=f.selector.length?f.selector.join(" {\n")+" {\n":"",i=new Array(f.selector.length+1).join("\n}");return h&&h===a?(h&&!a&&(a=h,b=i),void d.push(f.content)):(d.length&&(c.push(a+d.join("\n")+b),d.length=0),void(h?(a=h,b=i,d.push(f.content)):(c.push(f.content),a=null,b=null)))}),d.length&&c.push(a+d.join("\n")+b),c.join("\n\n")}function g(a,b,c){var d=c.replace(r,h),e=[];b&&(e.push(a.selectorText),d=b+": "+d+";");for(var f=a.parentRule;f;)e.unshift("@media "+t.call(f.media,", ")),f=f.parentRule;return{selector:e,content:d}}function h(a,b,c){var d=n[c],e=parseFloat(b)/100;return e*d+"px"}function i(){var a=window.innerHeight,b=window.innerWidth;return{vh:a,vw:b,vmax:Math.max(b,a),vmin:Math.min(b,a)}}function j(a){var b=0,c=function(){b--,b||a()};s.call(document.styleSheets,function(a){a.href&&k(a.href)!==k(location.href)&&(b++,l(a.ownerNode,c))}),b||a()}function k(a){return a.slice(0,a.indexOf("/",a.indexOf("://")+3))}function l(a,b){m(a.href,function(){var c=document.createElement("style");c.media=a.media,c.textContent=this.responseText,a.parentNode.replaceChild(c,a),b()},b)}function m(a,b,c){var d=new XMLHttpRequest;if("withCredentials"in d)d.open("GET",a,!0);else{if("undefined"==typeof XDomainRequest)throw new Error("cross-domain XHR not supported");d=new XDomainRequest,d.open("GET",a)}return d.onload=b,d.onerror=c,d.send(),d}var n,o,p,q=!1,r=/([0-9.-]+)(vh|vw|vmin|vmax)/g,s=[].forEach,t=[].join;return{version:"0.3.0",findProperties:d,getCss:f,init:a,refresh:c}});var Hogan={};!function(a,b){function c(a){return String(null===a||void 0===a?"":a)}function d(a){return a=c(a),j.test(a)?a.replace(e,"&amp;").replace(f,"&lt;").replace(g,"&gt;").replace(h,"&#39;").replace(i,"&quot;"):a}a.Template=function(a,c,d,e){this.r=a||this.r,this.c=d,this.options=e,this.text=c||"",this.buf=b?[]:""},a.Template.prototype={r:function(){return""},v:d,t:c,render:function(a,b,c){return this.ri([a],b||{},c)},ri:function(a,b,c){return this.r(a,b,c)},rp:function(a,b,c,d){var e=c[a];return e?(this.c&&"string"==typeof e&&(e=this.c.compile(e,this.options)),e.ri(b,c,d)):""},rs:function(a,b,c){var d=a[a.length-1];if(!k(d))return void c(a,b,this);for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var h;return k(a)&&0===a.length?!1:("function"==typeof a&&(a=this.ls(a,b,c,d,e,f,g)),h=""===a||!!a,!d&&h&&b&&b.push("object"==typeof a?a:b[b.length-1]),h)},d:function(a,b,c,d){var e=a.split("."),f=this.f(e[0],b,c,d),g=null;if("."===a&&k(b[b.length-2]))return b[b.length-1];for(var h=1;h<e.length;h++)f&&"object"==typeof f&&e[h]in f?(g=f,f=f[e[h]]):f="";return d&&!f?!1:(d||"function"!=typeof f||(b.push(g),f=this.lv(f,b,c),b.pop()),f)},f:function(a,b,c,d){for(var e=!1,f=null,g=!1,h=b.length-1;h>=0;h--)if(f=b[h],f&&"object"==typeof f&&a in f){e=f[a],g=!0;break}return g?(d||"function"!=typeof e||(e=this.lv(e,b,c)),e):d?!1:""},ho:function(a,b,c,d,e){var f=this.c,g=this.options;g.delimiters=e;var d=a.call(b,d);return d=null==d?String(d):d.toString(),this.b(f.compile(d,g).render(b,c)),!1},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join("");return this.buf=[],a}:function(){var a=this.buf;return this.buf="",a},ls:function(a,b,c,d,e,f,g){var h=b[b.length-1],i=null;if(!d&&this.c&&a.length>0)return this.ho(a,h,c,this.text.substring(e,f),g);if(i=a.call(h),"function"==typeof i){if(d)return!0;if(this.c)return this.ho(i,h,c,this.text.substring(e,f),g)}return i},lv:function(a,b,d){var e=b[b.length-1],f=a.call(e);return"function"==typeof f&&(f=c(f.call(e)),this.c&&~f.indexOf("{{"))?this.c.compile(f,this.options).render(e,d):c(f)}};var e=/&/g,f=/</g,g=/>/g,h=/\'/g,i=/\"/g,j=/[&<>\"\']/,k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}}("undefined"!=typeof exports?exports:Hogan),function(a){function b(a){"}"===a.n.substr(a.n.length-1)&&(a.n=a.n.substring(0,a.n.length-1))}function c(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")}function d(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;e>d;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function e(a,b,c,d){for(var h=[],i=null,j=null;a.length>0;)if(j=a.shift(),"#"==j.tag||"^"==j.tag||f(j,d))c.push(j),j.nodes=e(a,j.tag,c,d),h.push(j);else{if("/"==j.tag){if(0===c.length)throw new Error("Closing tag without opener: /"+j.n);if(i=c.pop(),j.n!=i.n&&!g(j.n,i.n,d))throw new Error("Nesting error: "+i.n+" vs. "+j.n);return i.end=j.i,h}h.push(j)}if(c.length>0)throw new Error("missing closing tag: "+c.pop().n);return h}function f(a,b){for(var c=0,d=b.length;d>c;c++)if(b[c].o==a.n)return a.tag="#",!0}function g(a,b,c){for(var d=0,e=c.length;e>d;d++)if(c[d].c==a&&c[d].o==b)return!0}function h(a){return a.replace(u,"\\\\").replace(r,'\\"').replace(s,"\\n").replace(t,"\\r")}function i(a){return~a.indexOf(".")?"d":"f"}function j(a){for(var b="",c=0,d=a.length;d>c;c++){var e=a[c].tag;"#"==e?b+=k(a[c].nodes,a[c].n,i(a[c].n),a[c].i,a[c].end,a[c].otag+" "+a[c].ctag):"^"==e?b+=l(a[c].nodes,a[c].n,i(a[c].n)):"<"==e||">"==e?b+=m(a[c]):"{"==e||"&"==e?b+=n(a[c].n,i(a[c].n)):"\n"==e?b+=p('"\\n"'+(a.length-1==c?"":" + i")):"_v"==e?b+=o(a[c].n,i(a[c].n)):void 0===e&&(b+=p('"'+h(a[c])+'"'))}return b}function k(a,b,c,d,e,f){return"if(_.s(_."+c+'("'+h(b)+'",c,p,1),c,p,0,'+d+","+e+',"'+f+'")){_.rs(c,p,function(c,p,_){'+j(a)+"});c.pop();}"}function l(a,b,c){return"if(!_.s(_."+c+'("'+h(b)+'",c,p,1),c,p,1,0,0,"")){'+j(a)+"};"}function m(a){return'_.b(_.rp("'+h(a.n)+'",c,p,"'+(a.indent||"")+'"));'}function n(a,b){return"_.b(_.t(_."+b+'("'+h(a)+'",c,p,0)));'}function o(a,b){return"_.b(_.v(_."+b+'("'+h(a)+'",c,p,0)));'}function p(a){return"_.b("+a+");"}var q=/\S/,r=/\"/g,s=/\n/g,t=/\r/g,u=/\\/g,v={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};a.scan=function(a,e){function f(){r.length>0&&(s.push(new String(r)),r="")}function g(){for(var a=!0,b=w;b<s.length;b++)if(a=s[b].tag&&v[s[b].tag]<v._v||!s[b].tag&&null===s[b].match(q),!a)return!1;return a}function h(a,b){if(f(),a&&g())for(var c,d=w;d<s.length;d++)s[d].tag||((c=s[d+1])&&">"==c.tag&&(c.indent=s[d].toString()),s.splice(d,1));else b||s.push({tag:"\n"});t=!1,w=s.length}function i(a,b){var d="="+y,e=a.indexOf(d,b),f=c(a.substring(a.indexOf("=",b)+1,e)).split(" ");return x=f[0],y=f[1],e+d.length-1}var j=a.length,k=0,l=1,m=2,n=k,o=null,p=null,r="",s=[],t=!1,u=0,w=0,x="{{",y="}}";for(e&&(e=e.split(" "),x=e[0],y=e[1]),u=0;j>u;u++)n==k?d(x,a,u)?(--u,f(),n=l):"\n"==a.charAt(u)?h(t):r+=a.charAt(u):n==l?(u+=x.length-1,p=v[a.charAt(u+1)],o=p?a.charAt(u+1):"_v","="==o?(u=i(a,u),n=k):(p&&u++,n=m),t=u):d(y,a,u)?(s.push({tag:o,n:c(r),otag:x,ctag:y,i:"/"==o?t-y.length:u+x.length}),r="",u+=y.length-1,n=k,"{"==o&&("}}"==y?u++:b(s[s.length-1]))):r+=a.charAt(u);return h(t,!0),s},a.generate=function(b,c,d){var e='var _=this;_.b(i=i||"");'+j(b)+"return _.fl();";return d.asString?"function(c,p,i){"+e+";}":new a.Template(new Function("c","p","i",e),c,a,d)},a.parse=function(a,b,c){return c=c||{},e(a,"",[],c.sectionTags||[])},a.cache={},a.compile=function(a,b){b=b||{};var c=a+"||"+!!b.asString,d=this.cache[c];return d?d:(d=this.generate(this.parse(this.scan(a,b.delimiters),a,b),a,b),this.cache[c]=d)}}("undefined"!=typeof exports?exports:Hogan),function(){var a={enteredNumber:"",finishedTyping:!1,init:function(){if(this.dateSupport())return!1;var a=this.getFields(),b=this.getForms();this.registerListeners(a),this.registerFormListeners(b),this.setupValues(a)},getFields:function(){var a=document.querySelectorAll('input[type="date"]');return a},getForms:function(){var a,b=document.querySelectorAll("form"),c=[];for(a=b.length-1;a>=0;a--)b[a].querySelector('input[type="date"]')&&c.push(b[a]);return c},registerListeners:function(a){var b,c,d=this;for(c=a.length-1;c>=0;c--)b=a[c],b.addEventListener("click",function(a){d.focusAction(a,d)}),b.addEventListener("focus",function(a){d.focusAction(a,d)}),b.addEventListener("keydown",function(a){d.beforeAction(a,d)}),b.addEventListener("keyup",function(a){d.afterAction(a,d)}),b.addEventListener("blur",function(a){d.blurAction(a,d)})},registerFormListeners:function(a){var b,c,d=this;for(c=a.length-1;c>=0;c--)b=a[c],b.addEventListener("submit",function(a){d.convertFormDates(a,d)})},convertFormDates:function(a,b){var c,d,e,f,g=/(0[1-9]|[12][0-9]|3[01])[\/](0[1-9]|1[012])[\/](19|20)\d\d/;for(a=a||window.event,f=a.target.querySelectorAll('input[type="date"]'),d=f.length-1;d>=0;d--){if(c=f[d],e=c.value.match(g)||c.getAttribute("required")||"dd/mm/yyyy"==c.value,!e)return a.preventDefault(),!1;b.parseDate(c)}return!0},parseDate:function(a){var b=a.value.split("/");a.value=b[2]+"-"+b[1]+"-"+b[0]},focusAction:function(a,b){var c,d;a=a||window.event,c=a.target,d=b.getCaretPosition(c),this.isValue(c.value)||(c.value="dd/mm/yyyy"),d>=0&&3>d?b.setCaretPosition(c,0,2):d>=3&&6>d?b.setCaretPosition(c,3,5):d>=6&&b.setCaretPosition(c,6,10),b.enteredNumber=""},beforeAction:function(a,b){var c,d,e,f=[37,38,39,40],g=[48,49,50,51,52,53,54,55,56,57],h=[9,13,27,16,17,18,20,144,224,224,91,92,93];return a=a||window.event,c=a.which||a.keyCode,d=a.target,e=b.getCaretPosition(d),h.indexOf(c)>-1||a.shiftKey||a.ctrlKey||a.altKey||a.metaKey?!0:f.indexOf(c)>-1?(a.preventDefault(),b.movePosition(d,e,c,b),!1):g.indexOf(c)>-1?(a.preventDefault(),b.enterNumber(d,e,c,b),!1):8===c?(a.preventDefault(),b.removeNumber(d,e,c,b),!1):(a.preventDefault(),!1)},afterAction:function(a,b){var c,d,e,f;if(a=a||window.event,c=a.which||a.keyCode,d=a.target,e=/(0[1-9]|[12][0-9]|3[01])[\/](0[1-9]|1[012])[\/](19|20)\d\d/,f=d.value.match(e)||d.getAttribute("required")||"dd/mm/yyyy"==d.value){var g=d.value,h=parseInt(g.substring(0,2),10),i=parseInt(g.substring(3,5),10),j=parseInt(g.substring(6,10),10);g=new Date(j,i,h),f=!isNaN(g.getTime())}f?b.setValid(d):b.setInvalid(d)},enterNumber:function(a,b,c,d){clearTimeout(d.finishedTyping);var e=String.fromCharCode(c)||"0";d.enteredNumber=d.enteredNumber+e,b>=0&&3>b?d.setDay(a,b,c,d):b>=3&&6>b?d.setMonth(a,b,c,d):b>=6&&d.setYear(a,b,c,d),d.finishedTyping=setTimeout(function(){d.enteredNumber=""},5e3)},removeNumber:function(a,b,c,d){return 8!==c?!1:(b>=0&&3>b?(d.enteredNumber="dd",d.setDay(a,b,c,d)):b>=3&&6>b?(d.enteredNumber="mm",d.setMonth(a,b,c,d)):b>=6&&(d.enteredNumber="yyyy",d.setYear(a,b,c,d)),void(d.enteredNumber=""))},setDay:function(a,b,c,d){var e=a.value.split("/"),f=d.enteredNumber;e[0]=f.length<2?"0"+f:f,a.value=e.join("/"),2==d.enteredNumber.length&&parseInt(f,10)>0?(d.enteredNumber="",d.setCaretPosition(a,3,5)):d.setCaretPosition(a,0,2)},setMonth:function(a,b,c,d){var e=a.value.split("/"),f=d.enteredNumber;e[1]=f.length<2?"0"+f:f,a.value=e.join("/"),2==d.enteredNumber.length&&parseInt(f,10)>0?(d.enteredNumber="",d.setCaretPosition(a,6,10)):d.setCaretPosition(a,3,5)},setYear:function(a,b,c,d){var e=a.value.split("/"),f="000"+d.enteredNumber;e[2]=f.substring(f.length-4,f.length),a.value=e.join("/"),d.setCaretPosition(a,6,10)},movePosition:function(a,b,c,d){37==c&&d.moveLeft(a,b,d),39==c&&d.moveRight(a,b,d),38==c&&d.increaseValue(a,b,d),40==c&&d.decreaseValue(a,b,d),d.enteredNumber=""},moveLeft:function(a,b,c){b>=0&&3>b?c.setCaretPosition(a,0,2):b>=3&&6>b?c.setCaretPosition(a,0,2):b>=6&&c.setCaretPosition(a,3,5)},moveRight:function(a,b,c){b>=0&&3>b?c.setCaretPosition(a,3,5):b>=3&&6>b?c.setCaretPosition(a,6,10):b>=5&&c.setCaretPosition(a,6,10)},increaseValue:function(a,b,c){b>=0&&3>b?c.adjustDay(a,1,c):b>=3&&6>b?c.adjustMonth(a,1,c):b>=5&&c.adjustYear(a,1,c)},decreaseValue:function(a,b,c){b>=0&&3>b?c.adjustDay(a,-1,c):b>=3&&6>b?c.adjustMonth(a,-1,c):b>=5&&c.adjustYear(a,-1,c)},adjustDay:function(a,b,c,d){var e,f=a.value,g=parseInt(f.substring(0,2),10),h=parseInt(f.substring(3,5),10),i=parseInt(f.substring(6,10),10),j=31,k=1,l=31;[4,6,9,11].indexOf(h)>-1&&(j=30),2===h&&(j=i%4===0?29:28),3===h&&(l=i%4===0?29:28),[5,7,10,12].indexOf(h)>-1&&(l=30),"undefined"==typeof d&&(d=!0),g+=b,g>j&&(g=1,c.adjustMonth(a,1,c,!1)),k>g&&(g=l,c.adjustMonth(a,-1,c,!1)),f=a.value,e=10>g?"0"+g.toString():g.toString(),a.value=e+f.substring(2),d&&c.setCaretPosition(a,0,2)},adjustMonth:function(a,b,c,d){var e,f=a.value,g=parseInt(f.substring(3,5),10);"undefined"==typeof d&&(d=!0),g+=b,g>12&&(g=1,c.adjustYear(a,1,c,!1)),1>g&&(g=12,c.adjustYear(a,-1,c,!1)),f=a.value,e=10>g?"0"+g.toString():g.toString(),a.value=f.substring(0,2)+"/"+e+f.substring(5),d&&c.setCaretPosition(a,3,5)},adjustYear:function(a,b,c,d){var e=a.value,f=parseInt(e.substring(6,10),10);"undefined"==typeof d&&(d=!0),f+=b,a.value=e.substring(0,6)+f,d&&c.setCaretPosition(a,6,10)},blurAction:function(a,b){var c,d;a=a||window.event,c=a.target,d=b.getCaretPosition(c)},setInvalid:function(a){a.setCustomValidity("Invalid field.")},setValid:function(a){a.setCustomValidity("")},setupValues:function(a){var b,c;for(b=a.length-1;b>=0;b--)c=a[b],c.value=c.value.substring(0,10),c.value&&this.isValidDate(c.value)?this.convertDate(c):c.value="dd/mm/yyyy"},convertDate:function(a){var b,c,d,e;b=a.value.split("-"),e=b[0],d=b[1],c=b[2],a.value=c+"/"+d+"/"+e},isValidDate:function(a){var b=/(19|20)\d\d[-](0[1-9]|1[012])[-](0[1-9]|[12][0-9]|3[01])/;return a.match(b)},isValue:function(a){var b=/(0[1-9]|[12][0-9]|3[01]|dd)[\/](0[1-9]|1[012]|dd)[\/]((19|20)\d\d|dd)/;return a.match(b)},getCaretPosition:function(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b},setCaretPosition:function(a,b,c){if(b="undefined"!=typeof b?b:0,c="undefined"!=typeof c?c:a.value.length,a.createTextRange){var d=a.createTextRange();d.collapse(!0),d.moveStart("character",b),d.moveEnd("character",c-b),d.select()}else a.setSelectionRange?a.setSelectionRange(b,c):a.selectionStart&&(a.selectionStart=b,a.selectionEnd=c);a.focus()},dateSupport:function(){var a=document.createElement("input"),b="not-a-date";return a.setAttribute("type","date"),a.setAttribute("value",b),a.value!==b}};document.addEventListener("DOMContentLoaded",function(){return a.init()})}(),function(a,b){"function"==typeof define&&define.amd?define(function(){return b(a)}):"object"==typeof exports?module.exports=b:a.echo=b(a)}(this,function(a){"use strict";var b,c,d,e,f,g={},h=function(){},i=function(a){return null===a.offsetParent},j=function(a,b){if(i(a))return!1;var c=a.getBoundingClientRect();return c.right>=b.l&&c.bottom>=b.t&&c.left<=b.r&&c.top<=b.b},k=function(){(e||!c)&&(clearTimeout(c),c=setTimeout(function(){g.render(),c=null},d))};return g.init=function(c){c=c||{};var i=c.offset||0,j=c.offsetVertical||i,l=c.offsetHorizontal||i,m=function(a,b){return parseInt(a||b,10)};b={t:m(c.offsetTop,j),b:m(c.offsetBottom,j),l:m(c.offsetLeft,l),r:m(c.offsetRight,l)},d=m(c.throttle,250),e=c.debounce!==!1,f=!!c.unload,h=c.callback||h,g.render(),document.addEventListener?(a.addEventListener("scroll",k,!1),a.addEventListener("load",k,!1)):(a.attachEvent("onscroll",k),a.attachEvent("onload",k))},g.render=function(){for(var c,d,e=document.querySelectorAll("img[data-echo], [data-echo-background]"),i=e.length,k={l:0-b.l,t:0-b.t,b:(a.innerHeight||document.documentElement.clientHeight)+b.b,r:(a.innerWidth||document.documentElement.clientWidth)+b.r},l=0;i>l;l++)d=e[l],j(d,k)?(f&&d.setAttribute("data-echo-placeholder",d.src),null!==d.getAttribute("data-echo-background")?d.style.backgroundImage="url("+d.getAttribute("data-echo-background")+")":d.src=d.getAttribute("data-echo"),f||(d.removeAttribute("data-echo"),d.removeAttribute("data-echo-background")),h(d,"load")):f&&(c=d.getAttribute("data-echo-placeholder"))&&(null!==d.getAttribute("data-echo-background")?d.style.backgroundImage="url("+c+")":d.src=c,d.removeAttribute("data-echo-placeholder"),h(d,"unload"));i||g.detach()},g.detach=function(){document.removeEventListener?a.removeEventListener("scroll",k):a.detachEvent("onscroll",k),clearTimeout(c)},g}),function(){"use strict";var a={init:function(){var a=this;a.events.lazyLoaders.init(),setTimeout(function(){a.events.bindListeners()},250),window.viewportUnitsBuggyfill.init(),ss.fixAllLinks(),window.ga=function(){window.ga.q.push(arguments)},ga.q=[],ga.l=+new Date,ga("create","UA-61791620-1","auto"),ga("send","pageview")},events:{bindListeners:function(){document.getElementById("work-link").addEventListener("click",this.openWorkMenu),document.querySelector('a[title="Open Work Menu"]')&&document.querySelector('a[title="Open Work Menu"]').addEventListener("click",this.openWorkMenu),document.querySelector(".work").addEventListener("scroll",this.headerScrollListener),document.body.classList.contains("home")&&document.getElementById("workLink").addEventListener("click",this.openWorkMenu),document.body.classList.contains("contact")&&(document.getElementById("project-type").onchange=function(){document.getElementById("linkToContactForm").click(),document.getElementById("name").focus()}),window.addEventListener("mousemove",this.mouseOverHeader),this.bindScrollListeners(),this.checkPageVisibility(),document.body.classList.contains("contact")&&this.bindFormListeners()},headerScrollListener:function(){var a=(document.querySelector(".work"),document.querySelectorAll(".work li"));clearTimeout(window.isScrollingWorkList);for(var b=a.length-1;b>=0;b--)a[b].style.pointerEvents="none";window.isScrollingWorkList=setTimeout(function(){for(var b=a.length-1;b>=0;b--)a[b].style.pointerEvents="auto"},50)},mouseOverHeader:function(a){var b=document.querySelector(".fixed");a=a||window.event,a.clientY<100&&b.classList.remove("scrolled")},openWorkMenu:function(a){var b=document.getElementById("work-link"),c=b.querySelector(".lines-button").classList,d=document.querySelector(".fixed").classList;return a=a||window.event,a.preventDefault(),d.remove("scrolled"),d.contains("open")?(c.remove("close"),d.remove("open"),document.body.style.overflow="auto",document.body.style.marginTop=0,window.pageYOffset=window.saved_scroll_position):(c.add("close"),d.add("open"),document.body.style.overflow="hidden"),!1},bindFormListeners:function(){var a=this,b=document.querySelectorAll(".contact-form input, .contact-form textarea");if(b.length<1)return!1;for(var c=b.length-1;c>=0;c--)b[c].addEventListener("change",function(b){a.recordFormFieldFilled(b)})},recordFormFieldFilled:function(a){var b=a.target;window.filledFormFields[b.name]||b.value&&(window.filledFormFields[b.name]=!0)},bindScrollListeners:function(){var a,b,c,d=this,e=0,f=document.querySelector(".fixed"),g=f.classList.contains("transparent");window.addEventListener("scroll",function(){clearTimeout(a),clearTimeout(b),c=window.saved_scroll_position=window.pageYOffset,d.scrollHeader(f,c,e),g&&d.setHeaderBg(f,c),a=setTimeout(function(){e=window.pageYOffset},50),window.trackingScrollEvents||(window.trackingScrollEvents=!0)})},checkPageVisibility:function(){var a="hidden";a in document?document.addEventListener("visibilitychange",this.updatePageTitle):(a="mozHidden")in document?document.addEventListener("mozvisibilitychange",this.updatePageTitle):(a="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",this.updatePageTitle):(a="msHidden")in document?document.addEventListener("msvisibilitychange",this.updatePageTitle):"onfocusin"in document?document.onfocusin=document.onfocusout=this.updatePageTitle:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=this.updatePageTitle},updatePageTitle:function(a){var b=window.pageTitle,c="I Miss You! ❤",d={focus:b,focusin:b,pageshow:b,blur:c,focusout:c,pagehide:c};a=a||window.event,document.title=a.type in d?d[a.type]:document.hidden?c:b},ctaOnScroll:function(a){var b=document.querySelector(".call-to-action"),c=document.querySelector(".intro").clientHeight;a>c?b.classList.add("position-fixed"):b.classList.remove("position-fixed")},getContentContainer:function(){var a=document.body;return document.body.classList.contains("blog")&&(a=document.querySelector(".post-main .post")||document.querySelector(".post-list li:first-of-type")),document.body.classList.contains("home")&&(a=document.querySelector(".about")),a},getContentContainerBottom:function(){var a=this.getContentContainer();return a.getBoundingClientRect().top+a.clientHeight},scrollHeader:function(a,b,c){c-25>=b||0>=b?a.classList.remove("scrolled"):b>c+25&&b>=100&&a.classList.add("scrolled")},setHeaderBg:function(a,b){var c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=document.querySelector(".contact-header")||document.querySelector(".intro"),e=d?d.clientHeight:c;b>e?a.classList.remove("transparent"):a.classList.add("transparent")},lazyLoaders:{init:function(){this.colorSwatches(),this.caseStudy(),document.body.classList.contains("home")&&this.callToAction(),echo.init({offset:100,throttle:250,unload:!1,debounce:!1,callback:function(a,b){console.log(a,"has been",b+"ed")}})},colorSwatches:function(){var a,b,c,d,e=document.querySelectorAll(".swatch");if(!e)return!1;for(d=0;d<e.length;d++)a=e[d],b=a.getAttribute("data-color").replace("\\",""),a.setAttribute("data-color",b),a.style.background=b,c=parseInt(b.replace("#",""),16)>13421772,a.classList.add(c?"light":"dark")},getFile:function(a,b){var c=new XMLHttpRequest;c.onload=function(){b(this.responseText)},c.open("GET",a),c.responseType="text",c.send()},getCaseStudies:function(a){return this.getFile("/case-studies.json",a)},getCallsToAction:function(a){return this.getFile("/calls-to-action.json",a)},caseStudy:function(){this.getCaseStudies(function(a){var b,c=JSON.parse(a),d=Math.floor(Math.random()*c.length),e=document.getElementById("featured-case-study"),f=document.getElementById("case-study-template"),g=Hogan.compile(f.innerHTML),h=c[d];location.href.indexOf(h.slug)>-1&&(h=c[d++]),b=g.render(h),e.innerHTML=b,e.setAttribute("data-echo-background","/assets/dist/img/case-studies/"+h.slug+"/bg.jpg")})},callToAction:function(){this.getCallsToAction(function(a){var b=JSON.parse(a),c=Math.floor(Math.random()*b.length),d=b[c],e=document.getElementById("call-to-action").getElementsByTagName("p")[0];e.innerHTML=d})}}}};a.init()}();
//# sourceMappingURL=main.min.js.map